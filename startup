term.setBackgroundColor(32768)
term.setTextColor(1)
term.clear()
term.setCursorPos(1,1)
if fs.exists("/ReboOSt/Temp") then
 fs.delete("/ReboOSt/Temp")
end
crash = true
term.clear()
term.setCursorPos(1,1)
print("Checking CraftOS Version...")
sleep(0.1)
print("Setting OStag...")
OStag = "ReboOSt"
sleep(0.05)
print("Setting OS version...")
devpart = "Alpha"
version = 1
rosbuild = 1011
sleep(0.05)
print("Starting Startuproutine...")
sleep(0.05)
if fs.exists("/ReboOSt/configs/stcount") then
 local file = fs.open("/ReboOSt/configs/stcount", "r")
 local fileData = {}
 local line = file.readLine()
 table.insert(fileData,line)
 file.close()
 local starts = fileData[1]
else starts = "0" end

if fs.exists("/ReboOSt/configs/main") then
 shell.run("/ReboOSt/configs/main")
else
 crashcause = "Main Config not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end

term.clear()
term.setCursorPos(1,1)
term.setTextColor(colors.lightGray)
local hll = string.len("ReboOSt Build "..rosbuild)
local hlx = (52-hll)/2
term.setCursorPos(hlx,1)
write("Rebo")
term.setTextColor(colors.cyan)
write("OS")
term.setTextColor(colors.lightGray)
print("t Build "..rosbuild)
print("")
write("    ")
term.setBackgroundColor(colors.lightGray)
print("                                           ")
term.setBackgroundColor(32768)
write("    ")
term.setBackgroundColor(colors.lightGray)
print("                                           ")
term.setBackgroundColor(32768)
write("    ")
term.setBackgroundColor(colors.lightGray)
print("                                           ")
term.setBackgroundColor(32768)
print(" ")
if rosdebug then
 term.setTextColor(colors.red)
 print("Debug Mode enabled!")
else
 print("")
end
if fs.exists("/ReboOSt/Logo.nfp") then
 Logo = paintutils.loadImage("/ReboOSt/Logo.nfp")
else
 crashcause = "Logo not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
paintutils.drawImage(Logo,6,9)
term.setCursorPos(6,4)
term.setBackgroundColor(colors.cyan)
textutils.slowPrint("             ", 1000)
if fs.exists("/ReboOSt/APIs/encryption") then
 os.loadAPI("/ReboOSt/APIs/encryption")
else
 crashcause = "Encryption API not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
if fs.exists("/ReboOSt/logon.nfp") then
 Loginback = paintutils.loadImage("/ReboOSt/logon.nfp")
else
 crashcause = "Logon.nfp not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
if fs.exists("/ReboOSt/disk.nfp") then
 disklogo = paintutils.loadImage("/ReboOSt/disk.nfp")
else
 crashcause = "disk.nfp not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
if fs.exists("/ReboOSt/Games.nfp") then
 Gamesfolder = paintutils.loadImage("/ReboOSt/Games.nfp")
else
 crashcause = "Games.nfp not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
if fs.exists("/ReboOSt/Progs.nfp") then
 ProgFold = paintutils.loadImage("/ReboOSt/Progs.nfp")
else
 crashcause = "Progs.nfp not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
fs.makeDir("/ReboOSt/Temp")
freeSpace = fs.getFreeSpace("/")
freeSpace = freeSpace/1024
term.setBackgroundColor(colors.cyan)
start = true

if fs.exists("/ReboOSt/configs/colortheme") then
 shell.run("/ReboOSt/configs/colortheme")
else
 crashcause = "Colortheme file not found!"
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
 shell.run("/ReboOSt/crash")
 os.shutdown()
end

if starts == "0" then
 term.setCursorPos(19,4)
 textutils.slowPrint("                          ", 1000)
 if fs.exists("/ReboOSt/firststart") then
  shell.run("/ReboOSt/firststart")
 else
  crashcause = "Firststart Routine not found!"
 end
 crashscreen = colors.gray
 crashscreentxt = colors.cyan
else
 term.setCursorPos(19,4)
 textutils.slowPrint("              ", 1000)
 starts = "1"
 if fs.exists("/ReboOSt/configs/stcount") then
  fs.delete("/ReboOSt/configs/stcount")
  local file = fs.open("/ReboOSt/configs/stcount", "w")
  file.write(starts)
  file.close()
 end
 term.setCursorPos(33,4)
 textutils.slowPrint("              ", 1000)
 if autoupdate then
  if fs.exists("/ReboOSt/updater") then
   shell.run("/ReboOSt/updater")
  else
   crashcause = "Updater not found!"
   shell.run("/ReboOSt/crash")
   os.shutdown()
  end
 end
 if fs.exists("/ReboOSt/welcome") then
  shell.run("/ReboOSt/welcome")
 else
  crashcause = "Login files not found!"
 end
end
if crash and not rosdebug then
 shell.run("/ReboOSt/crash")
 os.shutdown()
end
