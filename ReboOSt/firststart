function Reg()
term.setBackgroundColor(body)
term.clear()
term.setCursorPos(1,1)
term.setBackgroundColor(tbar)
term.setTextColor(tbartxt)
print("                                                   ")
term.setCursorPos(1,1)
write(OStag.." "..devpart.." "..version)
term.setCursorPos(40,1)
term.setTextColor(prog)
print("First Start ")
term.setBackgroundColor(mbar)
term.setTextColor(mbartxt)
print("<Please enter Admin Account name and password>     ")
term.setCursorPos(11,5)
term.setBackgroundColor(wico)
term.setTextColor(wicotxt)
print("       Registration:        ")
term.setBackgroundColor(wicotxt)
term.setTextColor(wico)
term.setCursorPos(11,6)
print("                            ")
term.setCursorPos(11,7)
print("                            ")
term.setCursorPos(11,8)
print("                            ")
term.setCursorPos(11,9)
print("                            ")
term.setCursorPos(11,10)
print("                            ")
term.setCursorPos(11,11)
print("                            ")
term.setCursorPos(11,12)
print("                            ")
term.setCursorPos(12,7)
write("Username: ")
term.setCursorPos(12,9)
print("Password: ")
term.setCursorPos(22,7)
Name = read()

if Name == "" then
 term.setCursorPos(20,10)
 Reg()
elseif Name == "root" then
 term.setCursorPos(20,10)
 Reg()
end

term.setCursorPos(22,9)
Password = read("*")

if Password == "" then
 term.setCursorPos(20,10)
 Reg()
end

fs.makeDir("/User/"..Name)
if fs.exists("/User/"..Name.."/Pictures") then
else
 fs.copy("/User/root/Pictures", "/User/"..Name.."/Pictures")
end
local pass = encryption.sha256(Password)
local file = fs.open("/User/"..Name.."/..meta", "w")
file.writeLine(pass)
file.write("admin")
file.close()
sleep(0.5)
term.setCursorPos(12,10)
print(" Account  created ")
term.setCursorPos(12,11)
print("                  ")
end
Reg()


function Screen()
term.setBackgroundColor(body)
term.clear()
term.setCursorPos (1,1)
term.setBackgroundColor(tbar)
term.setTextColor(tbartxt)
print("                                                  ")
term.setCursorPos(1,1)
print(OStag.." "..devpart.." "..version)
term.setCursorPos(37,1)
term.setTextColor(prog)
write("Theme Changer ")
term.setTextColor(buttonRetxt)
term.setBackgroundColor(buttonReboot)
write("@")
term.setBackgroundColor(mbar)
term.setTextColor(mbartxt)
print("<Select your Colors>                               ")
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
print("")
write("System Bars:      [")
term.setTextColor(tbartxt)
term.setBackgroundColor(colors.black)
if tbar == colors.black then write("X") else write(" ") end
term.setBackgroundColor(colors.gray)
if tbar == colors.gray then write("X") else write(" ") end
term.setBackgroundColor(colors.lightGray)
if tbar == colors.lightGray then write("X") else write(" ") end
term.setBackgroundColor(colors.white)
if tbar == colors.white then write("X") else write(" ") end
term.setBackgroundColor(colors.yellow)
if tbar == colors.yellow then write("X") else write(" ") end
term.setBackgroundColor(colors.orange)
if tbar == colors.orange then write("X") else write(" ") end
term.setBackgroundColor(colors.red)
if tbar == colors.red then write("X") else write(" ") end
term.setBackgroundColor(colors.purple)
if tbar == colors.purple then write("X") else write(" ") end
term.setBackgroundColor(colors.magenta)
if tbar == colors.magenta then write("X") else write(" ") end
term.setBackgroundColor(colors.lightBlue)
if tbar == colors.lightBlue then write("X") else write(" ") end
term.setBackgroundColor(colors.cyan)
if tbar == colors.cyan then write("X") else write(" ") end
term.setBackgroundColor(colors.blue)
if tbar == colors.blue then write("X") else write(" ") end
term.setBackgroundColor(colors.green)
if tbar == colors.green then write("X") else write(" ") end
term.setBackgroundColor(colors.lime)
if tbar == colors.lime then write("X") else write(" ") end
term.setBackgroundColor(colors.pink)
if tbar == colors.pink then write("X") else write(" ") end
term.setBackgroundColor(colors.brown)
if tbar == colors.brown then write("X") else write(" ") end
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
print("]")
write("Sub Bars:         [")
term.setTextColor(mbartxt)
term.setBackgroundColor(colors.black)
if mbar == colors.black then write("X") else write(" ") end
term.setBackgroundColor(colors.gray)
if mbar == colors.gray then write("X") else write(" ") end
term.setBackgroundColor(colors.lightGray)
if mbar == colors.lightGray then write("X") else write(" ") end
term.setBackgroundColor(colors.white)
if mbar == colors.white then write("X") else write(" ") end
term.setBackgroundColor(colors.yellow)
if mbar == colors.yellow then write("X") else write(" ") end
term.setBackgroundColor(colors.orange)
if mbar == colors.orange then write("X") else write(" ") end
term.setBackgroundColor(colors.red)
if mbar == colors.red then write("X") else write(" ") end
term.setBackgroundColor(colors.purple)
if mbar == colors.purple then write("X") else write(" ") end
term.setBackgroundColor(colors.magenta)
if mbar == colors.magenta then write("X") else write(" ") end
term.setBackgroundColor(colors.lightBlue)
if mbar == colors.lightBlue then write("X") else write(" ") end
term.setBackgroundColor(colors.cyan)
if mbar == colors.cyan then write("X") else write(" ") end
term.setBackgroundColor(colors.blue)
if mbar == colors.blue then write("X") else write(" ") end
term.setBackgroundColor(colors.green)
if mbar == colors.green then write("X") else write(" ") end
term.setBackgroundColor(colors.lime)
if mbar == colors.lime then write("X") else write(" ") end
term.setBackgroundColor(colors.pink)
if mbar == colors.pink then write("X") else write(" ") end
term.setBackgroundColor(colors.brown)
if mbar == colors.brown then write("X") else write(" ") end
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
print("]")
write("Textbody:         [")
term.setBackgroundColor(colors.black)
if body == colors.black then write("X") else write(" ") end
term.setBackgroundColor(colors.gray)
if body == colors.gray then write("X") else write(" ") end
term.setBackgroundColor(colors.lightGray)
if body == colors.lightGray then write("X") else write(" ") end
term.setBackgroundColor(colors.white)
if body == colors.white then write("X") else write(" ") end
term.setBackgroundColor(colors.yellow)
if body == colors.yellow then write("X") else write(" ") end
term.setBackgroundColor(colors.orange)
if body == colors.orange then write("X") else write(" ") end
term.setBackgroundColor(colors.red)
if body == colors.red then write("X") else write(" ") end
term.setBackgroundColor(colors.purple)
if body == colors.purple then write("X") else write(" ") end
term.setBackgroundColor(colors.magenta)
if body == colors.magenta then write("X") else write(" ") end
term.setBackgroundColor(colors.lightBlue)
if body == colors.lightBlue then write("X") else write(" ") end
term.setBackgroundColor(colors.cyan)
if body == colors.cyan then write("X") else write(" ") end
term.setBackgroundColor(colors.blue)
if body == colors.blue then write("X") else write(" ") end
term.setBackgroundColor(colors.green)
if body == colors.green then write("X") else write(" ") end
term.setBackgroundColor(colors.lime)
if body == colors.lime then write("X") else write(" ") end
term.setBackgroundColor(colors.pink)
if body == colors.pink then write("X") else write(" ") end
term.setBackgroundColor(colors.brown)
if body == colors.brown then write("X") else write(" ") end
term.setBackgroundColor(body)
print("]")
write("Windows           [")
term.setTextColor(wicotxt)
term.setBackgroundColor(colors.black)
if wico == colors.black then write("X") else write(" ") end
term.setBackgroundColor(colors.gray)
if wico == colors.gray then write("X") else write(" ") end
term.setBackgroundColor(colors.lightGray)
if wico == colors.lightGray then write("X") else write(" ") end
term.setBackgroundColor(colors.white)
if wico == colors.white then write("X") else write(" ") end
term.setBackgroundColor(colors.yellow)
if wico == colors.yellow then write("X") else write(" ") end
term.setBackgroundColor(colors.orange)
if wico == colors.orange then write("X") else write(" ") end
term.setBackgroundColor(colors.red)
if wico == colors.red then write("X") else write(" ") end
term.setBackgroundColor(colors.purple)
if wico == colors.purple then write("X") else write(" ") end
term.setBackgroundColor(colors.magenta)
if wico == colors.magenta then write("X") else write(" ") end
term.setBackgroundColor(colors.lightBlue)
if wico == colors.lightBlue then write("X") else write(" ") end
term.setBackgroundColor(colors.cyan)
if wico == colors.cyan then write("X") else write(" ") end
term.setBackgroundColor(colors.blue)
if wico == colors.blue then write("X") else write(" ") end
term.setBackgroundColor(colors.green)
if wico == colors.green then write("X") else write(" ") end
term.setBackgroundColor(colors.lime)
if wico == colors.lime then write("X") else write(" ") end
term.setBackgroundColor(colors.pink)
if wico == colors.pink then write("X") else write(" ") end
term.setBackgroundColor(colors.brown)
if wico == colors.brown then write("X") else write(" ") end
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
print("]")
write("Close/Reset/Back: [ ")
term.setTextColor(colors.white)
if buttonBack == colors.lime then term.setBackgroundColor(colors.lime) write("Uncolor") else term.setBackgroundColor(colors.lightGray) write("Recolor") end
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
print(" ]")
print("")
print("")
write("     [")
term.setBackgroundColor(colors.red)
term.setTextColor(colors.white)
write("Discard Changes")
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
write("]          [")
if changes then term.setBackgroundColor(colors.lime) else term.setBackgroundColor(colors.lightGray) end
term.setTextColor(colors.white)
write("Save Changes")
term.setBackgroundColor(body)
term.setTextColor(bodytxt)
write("]")
term.setCursorPos(1,18)
term.setBackgroundColor(mbar)
term.setTextColor(mbartxt)
print("<More Ideas? Please give them to me!>              ")
term.setBackgroundColor(tbar)
term.setTextColor(tbartxt)
write("(C)Chickenbread 2015       ")
if freeSpace >= 100000000 then
 spacer = "     To many free Space"
 format = " "
elseif freeSpace <= 10000000 and freeSpace >= 1000000 then
 spacer = "         Free:"
elseif freeSpace <= 1000000 and freeSpace >= 100000 then
 spacer = "          Free:"
elseif freeSpace <= 100000 and freeSpace >= 10000 then
 spacer = "           Free:"
elseif freeSpace <= 10000 and freeSpace >= 1000 then
 spacer = "            Free:"
elseif freeSpace <= 1000 and freeSpace >= 100 then
 spacer = "             Free:"
elseif freeSpace <= 100 and freeSpace >= 10 then
 spacer = "              Free:"
elseif freeSpace <= 10 and freeSpace >= 1 then
 spacer = "               Free:"
else
 spacer = "           No Free"
 format = "Space "
end
write(spacer.." "..freeSpace.." "..format)
end
Screen()

while true do
local event, button, X, Y = os.pullEvent("mouse_click")
local XY = X..","..Y


 -- reboot

if XY == "51,1" and button == 1 then
-- fs.delete("/ReboOSt/firststart")
 shell.run("/ReboOSt/reboot")
end


 -- tbar
if XY == "20,4" and button == 1 then tbar = colors.black tbartxt = colors.white prog = colors.gray changes = true Screen() end -- tBar Black
if XY == "21,4" and button == 1 then tbar = colors.gray tbartxt = colors.white prog = colors.lightGray changes = true Screen() end -- tbar Gray
if XY == "22,4" and button == 1 then tbar = colors.lightGray tbartxt = colors.white prog = colors.white changes = true Screen() end -- tbar lightGray
if XY == "23,4" and button == 1 then tbar = colors.white tbartxt = colors.black prog = colors.lightGray changes = true Screen() end -- tbar White
if XY == "24,4" and button == 1 then tbar = colors.yellow tbartxt = colors.black prog = colors.red changes = true Screen() end -- tbar Yellow
if XY == "25,4" and button == 1 then tbar = colors.orange tbartxt = colors.white prog = colors.red changes = true Screen() end -- tbar Orange
if XY == "26,4" and button == 1 then tbar = colors.red tbartxt = colors.white prog = colors.orange changes = true Screen() end -- tbar Red
if XY == "27,4" and button == 1 then tbar = colors.purple tbartxt = colors.white prog = colors.magenta changes = true Screen() end -- tbar Purple
if XY == "28,4" and button == 1 then tbar = colors.magenta tbartxt = colors.white prog = colors.pink changes = true Screen() end -- tbar Magenta
if XY == "29,4" and button == 1 then tbar = colors.lightBlue tbartxt = colors.white prog = colors.cyan changes = true Screen() end -- tbar light blue
if XY == "30,4" and button == 1 then tbar = colors.cyan tbartxt = colors.white prog = colors.blue changes = true Screen() end -- tbar Cyan
if XY == "31,4" and button == 1 then tbar = colors.blue tbartxt = colors.white prog = colors.lightBlue changes = true Screen() end -- tbar Blue
if XY == "32,4" and button == 1 then tbar = colors.green tbartxt = colors.white prog = colors.lime changes = true Screen() end -- tbar green
if XY == "33,4" and button == 1 then tbar = colors.lime tbartxt = colors.white prog = colors.green changes = true Screen() end -- tbar lime
if XY == "34,4" and button == 1 then tbar = colors.pink tbartxt = colors.white prog = colors.magenta changes = true Screen() end -- tbar pink
if XY == "35,4" and button == 1 then tbar = colors.brown tbartxt = colors.white prog = colors.red changes = true Screen() end -- tbar brown

 -- mbar
if XY == "20,5" and button == 1 then mbar = colors.black mbartxt = colors.white changes = true Screen() end -- mbar black
if XY == "21,5" and button == 1 then mbar = colors.gray mbartxt = colors.white changes = true Screen() end -- mbar gray
if XY == "22,5" and button == 1 then mbar = colors.lightGray mbartxt = colors.white changes = true Screen() end -- mbar light gray
if XY == "23,5" and button == 1 then mbar = colors.white mbartxt = colors.black changes = true Screen() end -- mbar white
if XY == "24,5" and button == 1 then mbar = colors.yellow mbartxt = colors.black changes = true Screen() end -- mbar yellow
if XY == "25,5" and button == 1 then mbar = colors.orange mbartxt = colors.white changes = true Screen() end -- mbar orange
if XY == "26,5" and button == 1 then mbar = colors.red mbartxt = colors.white changes = true Screen() end -- mbar red
if XY == "27,5" and button == 1 then mbar = colors.purple mbartxt = colors.white changes = true Screen() end -- mbar purple
if XY == "28,5" and button == 1 then mbar = colors.magenta mbartxt = colors.white changes = true Screen() end -- mbar magenta
if XY == "29,5" and button == 1 then mbar = colors.lightBlue mbartxt = colors.white changes = true Screen() end -- mbar light blue
if XY == "30,5" and button == 1 then mbar = colors.cyan mbartxt = colors.white changes = true Screen() end -- mbar cyan
if XY == "31,5" and button == 1 then mbar = colors.blue mbartxt = colors.white changes = true Screen() end -- mbar blue
if XY == "32,5" and button == 1 then mbar = colors.green mbartxt = colors.white changes = true Screen() end -- mbar green
if XY == "33,5" and button == 1 then mbar = colors.lime mbartxt = colors.white changes = true Screen() end -- mbar lime
if XY == "34,5" and button == 1 then mbar = colors.pink mbartxt = colors.white changes = true Screen() end -- mbar pink
if XY == "35,5" and button == 1 then mbar = colors.brown mbartxt = colors.white changes = true Screen() end -- mbar brown

 -- body
if XY == "20,6" and button == 1 then body = colors.black bodytxt = colors.white aboutYT = colors.gray aboutCB = colors.lightGray updatpre = colors.white changes = true Screen() end -- body black
if XY == "21,6" and button == 1 then body = colors.gray bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body gray
if XY == "22,6" and button == 1 then body = colors.lightGray bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body light gray
if XY == "23,6" and button == 1 then body = colors.white bodytxt = colors.black aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body white
if XY == "24,6" and button == 1 then body = colors.yellow bodytxt = colors.black aboutYT = colors.green aboutCB = colors.lime updatpre = colors.lime changes = true Screen() end -- body yellow
if XY == "25,6" and button == 1 then body = colors.orange bodytxt = colors.white aboutYT = colors.green aboutCB = colors.lime updatpre = colors.lime changes = true Screen() end -- body orange
if XY == "26,6" and button == 1 then body = colors.red bodytxt = colors.white aboutYT = colors.green aboutCB = colors.lime updatpre = colors.lime changes = true Screen() end -- body red
if XY == "27,6" and button == 1 then body = colors.purple bodytxt = colors.white aboutYT = colors.orange aboutCB = colors.yellow updatpre = colors.yellow changes = true Screen() end -- body purple
if XY == "28,6" and button == 1 then body = colors.magenta bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body magenta
if XY == "29,6" and button == 1 then body = colors.lightBlue bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body light blue
if XY == "30,6" and button == 1 then body = colors.cyan bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body cyan
if XY == "31,6" and button == 1 then body = colors.blue bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body blue
if XY == "32,6" and button == 1 then body = colors.green bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body green
if XY == "33,6" and button == 1 then body = colors.lime bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body lime
if XY == "34,6" and button == 1 then body = colors.pink bodytxt = colors.white aboutYT = colors.green aboutCB = colors.lime updatpre = colors.red changes = true Screen() end -- body pink
if XY == "35,6" and button == 1 then body = colors.brown bodytxt = colors.white aboutYT = colors.red aboutCB = colors.orange updatpre = colors.yellow changes = true Screen() end -- body brown

 -- wico
if XY == "20,7" and button == 1 then wico = colors.black wicotxt = colors.white changes = true Screen() end -- wico black
if XY == "21,7" and button == 1 then wico = colors.gray wicotxt = colors.white changes = true Screen() end -- wico gray
if XY == "22,7" and button == 1 then wico = colors.lightGray wicotxt = colors.white changes = true Screen() end -- wico light gray
if XY == "23,7" and button == 1 then wico = colors.white wicotxt = colors.black changes = true Screen() end -- wico white
if XY == "24,7" and button == 1 then wico = colors.yellow wicotxt = colors.red changes = true Screen() end -- wico yellow
if XY == "25,7" and button == 1 then wico = colors.orange wicotxt = colors.white changes = true Screen() end -- wico orange
if XY == "26,7" and button == 1 then wico = colors.red wicotxt = colors.white changes = true Screen() end -- wico red
if XY == "27,7" and button == 1 then wico = colors.purple wicotxt = colors.white changes = true Screen() end -- wico purple
if XY == "28,7" and button == 1 then wico = colors.magenta wicotxt = colors.white changes = true Screen() end -- wico magenta
if XY == "29,7" and button == 1 then wico = colors.lightBlue wicotxt = colors.white changes = true Screen() end -- wico light blue
if XY == "30,7" and button == 1 then wico = colors.cyan wicotxt = colors.white changes = true Screen() end -- wico cyan
if XY == "31,7" and button == 1 then wico = colors.blue wicotxt = colors.white changes = true Screen() end -- wico blue
if XY == "32,7" and button == 1 then wico = colors.green wicotxt = colors.white changes = true Screen() end -- wico green
if XY == "33,7" and button == 1 then wico = colors.lime wicotxt = colors.white changes = true Screen() end -- wico lime
if XY == "34,7" and button == 1 then wico = colors.pink wicotxt = colors.white changes = true Screen() end -- wico pink
if XY == "35,7" and button == 1 then wico = colors.brown wicotxt = colors.white changes = true Screen() end -- wico brown

 -- buttons
if X >= 21 and X <= 27 and Y == 8 and buttonBack == colors.lime and button == 1 then buttonBack = colors.lightGray buttonReboot = colors.gray buttonShut = colors.black buttonColor = false changes = true Screen() -- Uncolor
elseif X >= 21 and X <= 27 and Y == 8 and buttonBack == colors.lightGray and button == 1 then buttonBack = colors.lime buttonReboot = colors.orange buttonShut = colors.red buttonColor = true changes = true Screen() end -- Recolor

 -- Save
if X >= 34 and X <= 45 and Y == 11 and button == 1 and changes then
 if fs.exists("/ReboOSt/configs/colortheme") then fs.delete("/ReboOSt/configs/colortheme") end
 local file = fs.open("/ReboOSt/configs/colortheme", "w")
 file.writeLine("tbar = "..tbar)
 file.writeLine("mbar = "..mbar)
 file.writeLine("body = "..body)
 file.writeLine("wico = "..wico)
 file.writeLine("crashscreen = "..tbar)
 file.writeLine("crashscreentxt = "..prog)
 file.writeLine("prog = "..prog)
 file.writeLine("buttonBack = "..buttonBack)
 file.writeLine("buttonBatxt = colors.white")
 file.writeLine("buttonReboot = "..buttonReboot)
 file.writeLine("buttonRetxt = colors.white")
 file.writeLine("buttonShut = "..buttonShut)
 file.writeLine("buttonShtxt = colors.white")
 file.writeLine("tbartxt = "..tbartxt)
 file.writeLine("mbartxt = "..mbartxt)
 file.writeLine("bodytxt = "..bodytxt)
 file.writeLine("wicotxt = "..wicotxt)
 file.writeLine("aboutYT = "..aboutYT)
 file.writeLine("aboutCB = "..aboutCB)
 file.writeLine("updatPre = "..updatPre)
 file.close()
 changes = false
 Screen()
end

 -- Discard
if X >= 7 and X <= 21 and Y == 11 and button == 1 then shell.run("/ReboOSt/configs/colortheme") changes = false Screen() end end
